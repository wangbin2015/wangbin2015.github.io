<!DOCTYPE html>
<html>
<head>
	

	<title>Leaflet.draw 0.2 Released - Leaflet - a JavaScript library for interactive maps</title>

	<meta charset=utf-8"utf-8" />

	

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	

	<link rel="shortcut icon" type="image/x-icon" href="../../../docs/images/favicon.ico" />

	<link href="http://leafletjs.com/atom.xml" type="application/atom+xml" rel="alternate" title="Leaflet Dev Blog Atom Feed" />

	<link rel="stylesheet" href="../../../docs/css/normalize.css" tppabs="http://leafletjs.com/docs/css/normalize.css" />
	<link rel="stylesheet" href="../../../docs/css/main.css" tppabs="http://leafletjs.com/docs/css/main.css" />

	<link href="../../../../fonts.googleapis.com/css-family=Open+Sans-400,400italic,700,300.css" tppabs="http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,300" rel='stylesheet' type='text/css'>

	<script src="../../../docs/highlight/highlight.pack.js" tppabs="http://leafletjs.com/docs/highlight/highlight.pack.js"></script>
	<link rel="stylesheet" href="../../../docs/highlight/styles/github-gist.css" tppabs="http://leafletjs.com/docs/highlight/styles/github-gist.css" />

	<!-- Leaflet -->
	<link rel="stylesheet" href="../../../dist/leaflet.css" tppabs="http://leafletjs.com/dist/leaflet.css" />
	<script src="../../../dist/leaflet.js" tppabs="http://leafletjs.com/dist/leaflet.js"></script>

	

	<script>
		ACCESS_TOKEN = 'pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ';
		CM_ATTR = 'Map data &copy; <a href="http://openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery 漏 <a href="http://cloudmade.com/">CloudMade</a>';
		CM_URL = '../../../../{s}.tile.cloudmade.com/d4fc77ea4a63471cab2423e66626cbb6/{styleId}/256/{z}/{x}/{y}.png'/*tpa=http://{s}.tile.cloudmade.com/d4fc77ea4a63471cab2423e66626cbb6/{styleId}/256/{z}/{x}/{y}.png*/;
		MB_ATTR = 'Map data &copy; <a href="http://openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery 漏 <a href="http://mapbox.com/">Mapbox</a>';
		MB_URL = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' + ACCESS_TOKEN;
		OSM_URL = '../../../../{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'/*tpa=http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png*/;
		OSM_ATTRIB = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors';
	</script>
</head>
<body class="post-page">

<h1><a href="../../../index.htm" tppabs="http://leafletjs.com/"><img src="../../../docs/images/logo.png" tppabs="http://leafletjs.com/docs/images/logo.png" alt="Leaflet" width="300" /></a></h1>
<h3 class="tagline">an open-source JavaScript library<br> for mobile-friendly interactive maps</h3>

<ul class="nav">
	<li>
		
			<a href="../../../index.html" tppabs="http://leafletjs.com/index.html">Overview</a>
		
	</li>
	<li>
		
			<a href="../../../examples.html" tppabs="http://leafletjs.com/examples.html">Tutorials</a>
		
	</li>
	<li>
		
			<a href="../../../reference.html" tppabs="http://leafletjs.com/reference.html">Docs</a>
		
	</li>
	<li>
		
			<a href="../../../download.html" tppabs="http://leafletjs.com/download.html">Download</a>
		
	</li>
	<li>
		
			<a href="../../../plugins.html" tppabs="http://leafletjs.com/plugins.html">Plugins</a>
		
	</li>
	<li>
		
			<a href="../../../blog.html" tppabs="http://leafletjs.com/blog.html" class="active">Blog</a>
		
	</li>
</ul>

<div class="container">


<p><a href="../../../blog.html" tppabs="http://leafletjs.com/blog.html">&larr; Back to the list of blog posts</a></p>

<h2>Leaflet.draw 0.2 Released</h2>

<p class="post-meta">Posted on 20 February 2013 by <a href="javascript:if(confirm('https://github.com/jacobtoye/  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/jacobtoye/'" tppabs="https://github.com/jacobtoye/">Jacob Toye</a></p>

<p><em>This is a guest post from Jacob Toye, an active Leaflet contributor and also the author of the most sophisticated vector drawing and editing plugin out there, which is presented in this post.</em></p>

<p><a href="javascript:if(confirm('https://github.com/Leaflet/Leaflet.draw/  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Leaflet/Leaflet.draw/'" tppabs="https://github.com/Leaflet/Leaflet.draw/">Leaflet.draw</a> was born from the need to provide users with the ability draw polygons on the map. Leaflet already provided a very nice way of editing existing polylines and polygons. The logical next step was to expand on this functionality to allow the creation of these layers, and ultimately the other vector layers.</p>

<p>Upon release the immediate response from the Leaflet community was very positive. It became clear that the next step would be progressing this tool to a state where users could edit and delete shapes in addition to creating them. This is ultimately what Leaflet.draw 0.2 set out to do.</p>

<p>After a few months of off and on development, with most of this spare time kindy sponsored by my employer <a href="javascript:if(confirm('http://www.smartrak.co.nz/  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://www.smartrak.co.nz/'" tppabs="http://www.smartrak.co.nz/" title="GPS Fleet Management solutions" target="_blank">Smartrak</a>, we proudly present Leaflet.draw 0.2 &#8211; your one stop plugin for drawing, editing and deleting vectors and markers on Leaflet maps. :)</p>

<p><em>Note from Vladimir: the polyline/polygon editing functionality from Leaflet core has been moved into this plugin where it fits much better. The plugin in turn has moved into <a href="javascript:if(confirm('https://github.com/Leaflet  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Leaflet'" tppabs="https://github.com/Leaflet">Leaflet organization on GitHub</a> and is now officially supported by the Leaflet development team. Note that version 0.2 currently depends on Leaflet master (in-progress development version) to work.</em></p>

<p>You can download the latest version from the <a href="javascript:if(confirm('https://github.com/Leaflet/Leaflet.draw/  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Leaflet/Leaflet.draw/'" tppabs="https://github.com/Leaflet/Leaflet.draw/" target="_blank">github repo</a>. Please report any bugs you come across on the <a href="javascript:if(confirm('https://github.com/Leaflet/Leaflet.draw/issues  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Leaflet/Leaflet.draw/issues'" tppabs="https://github.com/Leaflet/Leaflet.draw/issues" target="_blank">issues page</a>.</p>

<div id="map" class="map" style="height: 288px"></div>

<h3 id="plugin-features">Features</h3>

<p>Leaflet.draw is designed to not only be easy for end users to use, but also for developers to integrate.</p>

<ul>
  <li>Draw shapes on your map with easy to use drawing tools.</li>
  <li>Edit and delete vectors and markers.</li>
  <li>Super customizable:
    <ul>
      <li>Customize the styles of each shape to fit in with your maps theme.</li>
      <li>Pick and choose the which tools you want to use.</li>
      <li>Roll your own by simply using the drawing and editing handlers.</li>
    </ul>
  </li>
  <li>Event based system allows you to perform any necessary actions when shapes are created, edited or deleted.</li>
</ul>

<h3 id="how-to-use">How to use</h3>

<p>Leaflet.draw is very simple to drop into you Leaflet application. The following example will add both the draw and edit toolbars to a map:</p>

<pre><code>// create a map in the "map" div, set the view to a given place and zoom
var map = L.map('map').setView([175.30867, -37.77914], 13);

// add an OpenStreetMap tile layer
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
	attribution: '&amp;copy; &lt;a href="http://osm.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors'
}).addTo(map);

// Initialize the FeatureGroup to store editable layers
var drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

// Initialize the draw control and pass it the FeatureGroup of editable layers
var drawControl = new L.Control.Draw({
	edit: {
		featureGroup: drawnItems
	}
});
map.addControl(drawControl);
</code></pre>

<h4 id="handling-newly-created-layers">Handling newly created layers</h4>

<p>Once you have successfully added the Leaflet.draw plugin your map you will want to respond to the different actions users can trigger.</p>

<pre><code>map.on('draw:created', function (e) {
	var type = e.layerType,
		layer = e.layer;

	if (type === 'marker') {
		// Do marker specific actions
	}

	// Do whatever else you need to. (save to db, add to map etc)
	drawnItems.addLayer(layer);
});

map.on('draw:edited', function () {
	// Update db to save latest changes.
});

map.on('draw:deleted', function () {
	// Update db to save latest changes.
});
</code></pre>

<p>See the <a href="javascript:if(confirm('https://github.com/Leaflet/Leaflet.draw  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Leaflet/Leaflet.draw'" tppabs="https://github.com/Leaflet/Leaflet.draw" target="_blank">Leaflet.draw README</a> for more details on how to configure the plugin.</p>

<h3 id="thanks">Thanks</h3>

<p>First and foremost I would like to thank my employer <a href="javascript:if(confirm('http://www.smartrak.co.nz/  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://www.smartrak.co.nz/'" tppabs="http://www.smartrak.co.nz/" title="GPS Fleet Management solutions" target="_blank">Smartrak</a>. Without their attitude to open source software I would not have had the time to complete this plugin.</p>

<p>The Leaflet developer community have been great in supporting this plugin through inspiration, pull requests and issue reports. Special thanks to: <a href="javascript:if(confirm('https://github.com/mourner  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/mourner'" tppabs="https://github.com/mourner" title="@mourner" target="_blank">@mourner</a>, <a href="javascript:if(confirm('https://github.com/danzel  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/danzel'" tppabs="https://github.com/danzel" title="@danzel" target="_blank">@danzel</a>, <a href="javascript:if(confirm('https://github.com/brunob  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/brunob'" tppabs="https://github.com/brunob" title="@brunob" target="_blank">@brunob</a>, <a href="javascript:if(confirm('https://github.com/tnightingale  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/tnightingale'" tppabs="https://github.com/tnightingale" title="@tnightingale" target="_blank">@tnightingale</a>, <a href="javascript:if(confirm('https://github.com/Starefossen  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/Starefossen'" tppabs="https://github.com/Starefossen" title="@Starefossen" target="_blank">@Starefossen</a>, and <a href="javascript:if(confirm('https://github.com/shramov  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://github.com/shramov'" tppabs="https://github.com/shramov" title="@shramov" target="_blank">@shramov</a>.</p>

<h3 id="closing">Closing</h3>

<p>I&#8217;ve had a great time implementing this plugin. I hope you enjoy using it. If you have a question or just want to say hi, send me an email at <a href="mailto:jacob.toye@gmail.com">jacob.toye@gmail.com</a>.</p>

<p>Cheers,
Jacob Toye</p>

<link rel="stylesheet" href="../../../../leaflet.github.io/Leaflet.draw/lib/leaflet/leaflet.css" tppabs="http://leaflet.github.com/Leaflet.draw/lib/leaflet/leaflet.css" />

<link rel="stylesheet" href="../../../../leaflet.github.io/Leaflet.draw/leaflet.draw.css" tppabs="http://leaflet.github.com/Leaflet.draw/leaflet.draw.css" />

<!--[if lte IE 8]>
	<link rel="stylesheet" href="../../../../leaflet.github.io/Leaflet.draw/lib/leaflet/leaflet.ie.css" tppabs="http://leaflet.github.com/Leaflet.draw/lib/leaflet/leaflet.ie.css" />
	<link rel="stylesheet" href="../../../../leaflet.github.io/Leaflet.draw/leaflet.draw.ie.css" tppabs="http://leaflet.github.com/Leaflet.draw/leaflet.draw.ie.css" />
<![endif]-->
<script src="../../../../leaflet.github.io/Leaflet.draw/libs/leaflet/leaflet.js" tppabs="http://leaflet.github.com/Leaflet.draw/libs/leaflet/leaflet.js"></script>

<script src="../../../../leaflet.github.io/Leaflet.draw/leaflet.draw.js" tppabs="http://leaflet.github.com/Leaflet.draw/leaflet.draw.js"></script>

<style>
	.leaflet-bar {
		border: none;
	}
</style>

<script>
	// create a map in the "map" div, set the view to a given place and zoom
	var map = L.map('map').setView([-37.77914, 175.30867], 16);

	// add an OpenStreetMap tile layer
	L.tileLayer('../../../../{s}.tile.osm.org/{z}/{x}/{y}.png'/*tpa=http://{s}.tile.osm.org/{z}/{x}/{y}.png*/, {
	  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
	}).addTo(map);

	// Initialize the FeatureGroup to store editable layers
	var drawnItems = new L.FeatureGroup();
	map.addLayer(drawnItems);

	// Initialize the draw control and pass it the FeatureGroup of editable layers
	var drawControl = new L.Control.Draw({
		edit: {
			featureGroup: drawnItems
		}
	});
	map.addControl(drawControl);

	map.on('draw:created', function (e) {
		var type = e.layerType,
			layer = e.layer;

		if (type === 'marker') {
			layer.bindPopup('A popup!');
		}

		// Do whatever else you need to. (save to db, add to map etc)
		drawnItems.addLayer(layer);
	});
</script>



<div id="disqus_thread"></div>

<script>
	var disqus_shortname = 'leafletjs';
//	var disqus_developer = 1;

	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>

<a href="javascript:if(confirm('http://disqus.com/  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://disqus.com/'" tppabs="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



<div class="footer">
	<p>&copy; 2015 <a href="javascript:if(confirm('http://agafonkin.com/en  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://agafonkin.com/en'" tppabs="http://agafonkin.com/en">Vladimir Agafonkin</a>. Maps &copy; <a href="javascript:if(confirm('http://openstreetmap.org/copyright  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://openstreetmap.org/copyright'" tppabs="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors.</p>
</div>

</div>

<nav class="ext-links">
  <a class="ext-link twitter" href="javascript:if(confirm('http://twitter.com/LeafletJS  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://twitter.com/LeafletJS'" tppabs="http://twitter.com/LeafletJS" title="Follow LeafletJS on Twitter"><img alt="Follow LeafletJS on Twitter" src="../../../docs/images/twitter-round.png" tppabs="http://leafletjs.com/docs/images/twitter-round.png" width="46" /></a>
  <a class="ext-link github" href="javascript:if(confirm('http://github.com/Leaflet/Leaflet  \n\n该文件未被 Teleport Pro 下载，因为 它位于起始地址以设置的边界以外的域或路径中。  \n\n你想要从服务器打开它吗?'))window.location='http://github.com/Leaflet/Leaflet'" tppabs="http://github.com/Leaflet/Leaflet" title="View Source on GitHub"><img alt="View Source on GitHub" src="../../../docs/images/github-round.png" tppabs="http://leafletjs.com/docs/images/github-round.png" width="46" /></a>
  <a class="ext-link forum" href="javascript:if(confirm('https://groups.google.com/forum/  \n\n该文件未被 Teleport Pro 下载，因为 是一个使用未支持协议的地址(例如: gopher)。  \n\n你想要从服务器打开它吗?'))window.location='https://groups.google.com/forum/#!forum/leaflet-js'" tppabs="https://groups.google.com/forum/#!forum/leaflet-js" title="Ask for help on the Leaflet forum"><img alt="Official Leaflet forum" src="../../../docs/images/forum-round.png" tppabs="http://leafletjs.com/docs/images/forum-round.png" width="46" /></a>
</nav>

<script>
	hljs.configure({tabReplace: '    '});
	hljs.initHighlighting();

	(function () {
		if (document.body.className.indexOf('api-page') !== -1) {
			var headers = document.getElementsByTagName('h2');

			for (var i = 0, len = headers.length; i < len; i++) {
				if (headers[i].id) {
					headers[i].onclick = function(e) {
						if (e.offsetX < 0) {
							window.location.hash = '#' + this.id;
						}
					};
				}
			}
		}
	})();
</script>

<script>
	var _gaq = _gaq || [];
	_gaq.push([ '_setAccount', 'UA-4147697-4' ]);
	_gaq.push([ '_trackPageview' ]);

	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl'
				: 'http://www/')
				+ '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript" src="../../../docs/js/docs.js" tppabs="http://leafletjs.com/docs/js/docs.js"></script>
</body>
</html>
